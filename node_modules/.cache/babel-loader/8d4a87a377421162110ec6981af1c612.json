{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-5c6101e4\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"register\"\n};\nvar _hoisted_2 = {\n  \"class\": \"register-form\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h1\", {\n    style: {\n      \"color\": \"#1c2851\"\n    }\n  }, \"Connexion\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = {\n  \"class\": \"email-div\"\n};\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"errors\"\n};\nvar _hoisted_6 = {\n  \"class\": \"password-div\"\n};\nvar _hoisted_7 = {\n  key: 0,\n  \"class\": \"errors\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"span\", {\n    style: {\n      \"font-size\": \"12px\"\n    }\n  }, [/*#__PURE__*/_createTextVNode(\"Je n'ai pas encore de compte \"), /*#__PURE__*/_createElementVNode(\"span\", {\n    style: {\n      \"color\": \"green\",\n      \"font-size\": \"12px\",\n      \"cursor\": \"pointer\"\n    }\n  }, \"S'inscrire\")], -1\n  /* HOISTED */\n  );\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    placeholder: \"Adress Email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.email = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.email]]), $data.errors_email !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.errors_email), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Mot de passe\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.password]]), $data.errors_password !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.errors_password), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    \"class\": \"action\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.login && $options.login.apply($options, arguments);\n    })\n  }, \"Se connecter\"), _hoisted_8])]);\n}","map":{"version":3,"mappings":";;;;;;;AACO,WAAM;;;AACJ,WAAM;;;;sBACTA,oBAEM,KAFN,EAEM,IAFN,EAEM,cADJA,oBAAyC,IAAzC,EAAyC;AAArCC,SAAsB,EAAtB;AAAA;AAAA;AAAqC,GAAzC,EAA2B,WAA3B,CACI,CAFN;;AAAA;;;;AAGK,WAAM;;;;AAEJ,WAAM;;;AAIR,WAAM;;;;AAEJ,WAAM;;;;sBAKbD,oBAKC,MALD,EAKC;AALKC,SAAuB,EAAvB;AAAA;AAAA;AAKL,GALD,EAA6B,+BAC1B,gCAD0B,eAE3BD,oBAEC,MAFD,EAEC;AAFKC,SAAsD,EAAtD;AAAA;AAAA;AAAA;AAAA;AAEL,GAFD,EACG,YADH,CAF2B,CAA7B;;AAAA;;;;uBAlBJC,oBAyBM,KAzBN,cAyBM,CAxBJF,oBAuBM,KAvBN,cAuBM,CAtBJG,UAsBI,EAnBJH,oBAKM,KALN,cAKM,iBAJJA,oBAAiE,OAAjE,EAAiE;AAA1DI,QAAI,EAAC,OAAqD;AAA7CC,eAAW,EAAC,cAAiC;;aAATC,cAAKC;;AAAI,GAAjE;;AAAA,oBAAwDD,cAIpD,EAHsBA,uBAAY,sBAAtCJ,oBAEM,KAFN,cAEMM,iBADDF,kBACC,CAFN,EACiB;AAAA;AADjB,wCAGI,CALN,CAmBI,EAbJN,oBAKM,KALN,cAKM,iBAJJA,oBAAuE,OAAvE,EAAuE;AAAhEI,QAAI,EAAC,UAA2D;AAAhDC,eAAW,EAAC,cAAoC;;aAAZC,iBAAQC;;AAAI,GAAvE;;AAAA,oBAA2DD,iBAIvD,EAHsBA,0BAAe,sBAAzCJ,oBAEM,KAFN,cAEMM,iBADDF,qBACC,CAFN,EACoB;AAAA;AADpB,wCAGI,CALN,CAaI,EAPJN,oBAA2D,QAA3D,EAA2D;AAAnD,aAAM,QAA6C;AAAnCS,WAAK;AAAA,aAAEC,2DAAF;AAAA;AAA8B,GAA3D,EAAsC,cAAtC,CAOI,EANJC,UAMI,CAvBN,CAwBI,CAzBN","names":["_createElementVNode","style","_createElementBlock","_hoisted_3","type","placeholder","$data","$event","_toDisplayString","onClick","$options","_hoisted_8"],"sourceRoot":"","sources":["/home/bignon/Documents/2MS/projet-formation/2ms/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"register\">\n    <div class=\"register-form\">\n      <div>\n        <h1 style=\"color: #1c2851\">Connexion</h1>\n      </div>\n      <div class=\"email-div\">\n        <input type=\"email\" placeholder=\"Adress Email\" v-model=\"email\" />\n        <div class=\"errors\" v-if=\"errors_email !== null\">\n          {{ errors_email }}\n        </div>\n      </div>\n      <div class=\"password-div\">\n        <input type=\"password\" placeholder=\"Mot de passe\" v-model=\"password\" />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <button class=\"action\" @click=\"login\">Se connecter</button>\n      <span style=\"font-size: 12px\"\n        >Je n'ai pas encore de compte\n        <span style=\"color: green; font-size: 12px; cursor: pointer\"\n          >S'inscrire</span\n        ></span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errors_email: null,\n      errors_password: null,\n    };\n  },\n  methods: {\n    login() {\n      const url = \"http://localhost:8000/api/login\";\n\n      let login_credentials = {\n        email: this.email,\n        password: this.password,\n      };\n      let requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(login_credentials),\n      };\n      fetch(url, requestOptions)\n        .then((response) => {\n          return response.json();\n        })\n        .then((result) => {\n          if (result.errors) {\n            if (result.errors.email) {\n              this.errors_email = result.errors.email[0];\n            }\n            if (result.errors.password) {\n              this.errors_password = result.errors.password[0];\n            }\n          }\n          if (result.token) {\n            \n            this.$router.push(\"/\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register {\n  margin-top: 4em;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.register-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2em;\n  min-width: 40%;\n  padding: 25px 10px;\n  box-shadow: -5px 0px 5px -5px #1c2851;\n  border-radius: 25px;\n}\n.username-div {\n  width: 100%;\n}\n.username-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.email-div {\n  width: 100%;\n}\n.email-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-div {\n  width: 100%;\n}\n.password-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-conf-div {\n  width: 100%;\n}\n.password-conf-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.action {\n  border: none;\n  outline: none;\n  background-color: #1c2851;\n  color: white;\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  line-height: 0;\n  font-size: 16px;\n  cursor: pointer;\n}\n@media screen and (max-width: 912px) {\n  .register-form {\n    width: 70%;\n  }\n}\n@media screen and (max-width: 768px) {\n  .register-form {\n    width: 80%;\n  }\n}\n.errors {\n  color: red;\n  text-align: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}