{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  data: function data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      errors_name: null,\n      errors_email: null,\n      errors_password: null\n    };\n  },\n  methods: {\n    register: function register() {\n      var _this = this;\n\n      console.log($BASE);\n      var url = env() + \"api/register\";\n      var new_user = {\n        name: this.name,\n        email: this.email,\n        password: this.password,\n        password_confirmation: this.password_confirmation\n      };\n      var requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(new_user)\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        if (result.errors) {\n          if (result.errors.name) {\n            _this.errors_name = result.errors.name[0];\n          }\n\n          if (result.errors.email) {\n            _this.errors_email = result.errors.email[0];\n          }\n\n          if (result.errors.password) {\n            _this.errors_password = result.errors.password[0];\n          }\n        }\n\n        if (result.token) {\n          _this.$router.push('/login');\n        }\n\n        console.log(result);\n      });\n      this.name = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.password_confirmation = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":";;;AAgDA,eAAe;AACbA,MADa,kBACN;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELC,WAAK,EAAE,EAFF;AAGLC,cAAQ,EAAE,EAHL;AAILC,2BAAqB,EAAE,EAJlB;AAKLC,iBAAW,EAAE,IALR;AAMLC,kBAAY,EAAE,IANT;AAOLC,qBAAe,EAAE;AAPZ,KAAP;AASD,GAXY;AAYbC,SAAO,EAAE;AACPC,YADO,sBACI;AAAA;;AACTC,aAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,UAAMC,GAAE,GAAIC,GAAG,KAAG,cAAlB;AACA,UAAIC,QAAO,GAAI;AACbd,YAAI,EAAE,KAAKA,IADE;AAEbC,aAAK,EAAE,KAAKA,KAFC;AAGbC,gBAAQ,EAAE,KAAKA,QAHF;AAIbC,6BAAqB,EAAE,KAAKA;AAJf,OAAf;AAMA,UAAIY,cAAa,GAAI;AACnBC,cAAM,EAAE,MADW;AAEnBC,eAAO,EAAE;AACPC,gBAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFU;AAMnBC,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf;AANa,OAArB;AAQAQ,WAAK,CAACV,GAAD,EAAMG,cAAN,CAAL,CACGQ,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAHH,EAIGF,IAJH,CAIQ,UAACG,MAAD,EAAY;AAChB,YAAIA,MAAM,CAACC,MAAX,EAAmB;AACjB,cAAID,MAAM,CAACC,MAAP,CAAc3B,IAAlB,EAAwB;AACtB,iBAAI,CAACI,WAAL,GAAmBsB,MAAM,CAACC,MAAP,CAAc3B,IAAd,CAAmB,CAAnB,CAAnB;AACF;;AACA,cAAI0B,MAAM,CAACC,MAAP,CAAc1B,KAAlB,EAAyB;AACvB,iBAAI,CAACI,YAAL,GAAoBqB,MAAM,CAACC,MAAP,CAAc1B,KAAd,CAAoB,CAApB,CAApB;AACF;;AACA,cAAIyB,MAAM,CAACC,MAAP,CAAczB,QAAlB,EAA4B;AAC1B,iBAAI,CAACI,eAAL,GAAuBoB,MAAM,CAACC,MAAP,CAAczB,QAAd,CAAuB,CAAvB,CAAvB;AACF;AACF;;AACA,YAAGwB,MAAM,CAACE,KAAV,EAAgB;AACd,eAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACF;;AACArB,eAAO,CAACC,GAAR,CAAYgB,MAAZ;AACD,OApBH;AAqBA,WAAK1B,IAAL,GAAY,EAAZ;AACA,WAAKC,KAAL,GAAa,EAAb;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,qBAAL,GAA6B,EAA7B;AACD;AA3CM;AAZI,CAAf","names":["data","name","email","password","password_confirmation","errors_name","errors_email","errors_password","methods","register","console","log","$BASE","url","env","new_user","requestOptions","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","result","errors","token","$router","push"],"sourceRoot":"","sources":["/home/bignon/Documents/2MS/projet-formation/2ms/src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"register\">\n    <div class=\"register-form\">\n      <div>\n        <h1 style=\"color: #1c2851\">Inscription</h1>\n      </div>\n      <div class=\"username-div\">\n        <input type=\"text\" placeholder=\"Nom complet\" v-model=\"name\" />\n        <div class=\"errors\" v-if=\"errors_name !== null\">\n          {{ errors_name }}\n        </div>\n      </div>\n      <div class=\"email-div\">\n        <input type=\"email\" placeholder=\"Adress Email\" v-model=\"email\" />\n        <div class=\"errors\" v-if=\"errors_email !== null\">\n          {{ errors_email }}\n        </div>\n      </div>\n      <div class=\"password-div\">\n        <input type=\"password\" placeholder=\"Mot de passe\" v-model=\"password\" />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <div class=\"password-conf-div\">\n        <label for=\"name\"></label>\n        <input\n          type=\"password\"\n          placeholder=\"Confirmation de mot de passe\"\n          required\n          v-model=\"password_confirmation\"\n        />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <button class=\"action\" @click=\"register\">S'inscrire</button>\n      <span style=\"font-size: 12px\"\n        >J'ai deja un compte\n        <span style=\"color: green; font-size: 12px; cursor: pointer\"\n          >Se connecter</span\n        ></span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      errors_name: null,\n      errors_email: null,\n      errors_password: null,\n    };\n  },\n  methods: {\n    register() {\n      console.log($BASE)\n      const url = env()+\"api/register\";\n      let new_user = {\n        name: this.name,\n        email: this.email,\n        password: this.password,\n        password_confirmation: this.password_confirmation,\n      };\n      let requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(new_user),\n      };\n      fetch(url, requestOptions)\n        .then((response) => {\n          return response.json();\n        })\n        .then((result) => {\n          if (result.errors) {\n            if (result.errors.name) {\n              this.errors_name = result.errors.name[0];\n            }\n            if (result.errors.email) {\n              this.errors_email = result.errors.email[0];\n            }\n            if (result.errors.password) {\n              this.errors_password = result.errors.password[0];\n            }\n          }\n          if(result.token){\n            this.$router.push('/login')\n          }\n          console.log(result);\n        });\n      this.name = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.password_confirmation = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 4em;\n}\n.register-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2em;\n  min-width: 40%;\n  padding: 25px 10px;\n  box-shadow: -5px 0px 5px -5px #1c2851;\n  border-radius: 25px;\n}\n.username-div {\n  width: 100%;\n}\n.username-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.email-div {\n  width: 100%;\n}\n.email-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-div {\n  width: 100%;\n}\n.password-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-conf-div {\n  width: 100%;\n}\n.password-conf-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.action {\n  border: none;\n  outline: none;\n  background-color: #1c2851;\n  color: white;\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  line-height: 0;\n  font-size: 16px;\n  cursor: pointer;\n}\n@media screen and (max-width: 912px) {\n  .register-form {\n    width: 70%;\n  }\n}\n@media screen and (max-width: 768px) {\n  .register-form {\n    width: 80%;\n  }\n}\n.errors {\n  color: red;\n  text-align: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}