{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-03589122\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"register\"\n};\nvar _hoisted_2 = {\n  \"class\": \"register-form\"\n};\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h1\", {\n    style: {\n      \"color\": \"#5b3cc4\"\n    }\n  }, \"Inscription\")], -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_4 = {\n  \"class\": \"username-div\"\n};\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"errors\"\n};\nvar _hoisted_6 = {\n  \"class\": \"email-div\"\n};\nvar _hoisted_7 = {\n  key: 0,\n  \"class\": \"errors\"\n};\nvar _hoisted_8 = {\n  \"class\": \"password-div\"\n};\nvar _hoisted_9 = {\n  key: 0,\n  \"class\": \"errors\"\n};\nvar _hoisted_10 = {\n  \"class\": \"password-conf-div\"\n};\n\nvar _hoisted_11 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"label\", {\n    \"for\": \"name\"\n  }, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_12 = {\n  key: 0,\n  \"class\": \"errors\"\n};\n\nvar _hoisted_13 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"span\", {\n    style: {\n      \"font-size\": \"12px\"\n    }\n  }, [/*#__PURE__*/_createTextVNode(\"J'ai deja un compte \"), /*#__PURE__*/_createElementVNode(\"span\", {\n    style: {\n      \"color\": \"green\",\n      \"font-size\": \"12px\",\n      \"cursor\": \"pointer\"\n    }\n  }, \"Se connecter\")], -1\n  /* HOISTED */\n  );\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Alert = _resolveComponent(\"Alert\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.show == _ctx.tur ? (_openBlock(), _createBlock(_component_Alert, {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Nom complet\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.name = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.name]]), $data.errors_name !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.errors_name), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    placeholder: \"Adress Email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.email = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.email]]), $data.errors_email !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.errors_email), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Mot de passe\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.password = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.password]]), $data.errors_password !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString($data.errors_password), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirmation de mot de passe\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.password_confirmation = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.password_confirmation]]), $data.errors_password !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString($data.errors_password), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    \"class\": \"action\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.register && $options.register.apply($options, arguments);\n    })\n  }, \"S'inscrire\"), _hoisted_13]), $data.show == true ? (_openBlock(), _createBlock(_component_Alert, {\n    key: 1\n  })) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;;;;;AACO,WAAM;;;AAEJ,WAAM;;;;sBACTA,oBAEM,KAFN,EAEM,IAFN,EAEM,cADJA,oBAA2C,IAA3C,EAA2C;AAAvCC,SAAsB,EAAtB;AAAA;AAAA;AAAuC,GAA3C,EAA2B,aAA3B,CACI,CAFN;;AAAA;;;;AAGK,WAAM;;;;AAEJ,WAAM;;;AAIR,WAAM;;;;AAEJ,WAAM;;;AAIR,WAAM;;;;AAEJ,WAAM;;;AAIR,WAAM;;;;sBACTD,oBAA0B,OAA1B,EAA0B;AAAnB,WAAI;AAAe,GAA1B,EAAiB,IAAjB,EAAiB;AAAA;AAAjB;;;;;AAOK,WAAM;;;;sBAKbA,oBAKC,MALD,EAKC;AALKC,SAAuB,EAAvB;AAAA;AAAA;AAKL,GALD,EAA6B,+BAC1B,uBAD0B,eAE3BD,oBAEC,MAFD,EAEC;AAFKC,SAAsD,EAAtD;AAAA;AAAA;AAAA;AAAA;AAEL,GAFD,EACG,cADH,CAF2B,CAA7B;;AAAA;;;;;;uBArCJC,oBA6CM,KA7CN,cA6CM,CA5CSC,cAAQC,0BAArBC,aAA4BC,gBAA5B,EAA4B;AAAAC;AAAA,GAA5B,sCA4CI,EA3CJP,oBAyCM,KAzCN,cAyCM,CAxCJQ,UAwCI,EArCJR,oBAKM,KALN,cAKM,iBAJJA,oBAA8D,OAA9D,EAA8D;AAAvDS,QAAI,EAAC,MAAkD;AAA3CC,eAAW,EAAC,aAA+B;;aAARP,aAAIQ;;AAAI,GAA9D;;AAAA,oBAAsDR,aAIlD,EAHsBA,sBAAW,sBAArCD,oBAEM,KAFN,cAEMU,iBADDT,iBACC,CAFN,EACgB;AAAA;AADhB,wCAGI,CALN,CAqCI,EA/BJH,oBAKM,KALN,cAKM,iBAJJA,oBAAiE,OAAjE,EAAiE;AAA1DS,QAAI,EAAC,OAAqD;AAA7CC,eAAW,EAAC,cAAiC;;aAATP,cAAKQ;;AAAI,GAAjE;;AAAA,oBAAwDR,cAIpD,EAHsBA,uBAAY,sBAAtCD,oBAEM,KAFN,cAEMU,iBADDT,kBACC,CAFN,EACiB;AAAA;AADjB,wCAGI,CALN,CA+BI,EAzBJH,oBAKM,KALN,cAKM,iBAJJA,oBAAuE,OAAvE,EAAuE;AAAhES,QAAI,EAAC,UAA2D;AAAhDC,eAAW,EAAC,cAAoC;;aAAZP,iBAAQQ;;AAAI,GAAvE;;AAAA,oBAA2DR,iBAIvD,EAHsBA,0BAAe,sBAAzCD,oBAEM,KAFN,cAEMU,iBADDT,qBACC,CAFN,EACoB;AAAA;AADpB,wCAGI,CALN,CAyBI,EAnBJH,oBAWM,KAXN,eAWM,CAVJa,WAUI,kBATJb,oBAKE,OALF,EAKE;AAJAS,QAAI,EAAC,UAIL;AAHAC,eAAW,EAAC,8BAGZ;AAFAI,YAAQ,EAAR,EAEA;;aADSX,8BAAqBQ;;AAC9B,GALF;;AAAA,oBAIWR,8BAKP,EAHsBA,0BAAe,sBAAzCD,oBAEM,KAFN,eAEMU,iBADDT,qBACC,CAFN,EACoB;AAAA;AADpB,wCAGI,CAXN,CAmBI,EAPJH,oBAA4D,QAA5D,EAA4D;AAApD,aAAM,QAA8C;AAApCe,WAAK;AAAA,aAAEC,iEAAF;AAAA;AAA+B,GAA5D,EAAyC,YAAzC,CAOI,EANJC,WAMI,CAzCN,CA2CI,EADSd,cAAI,sBAAjBE,aAA6BC,gBAA7B,EAA6B;AAAAC;AAAA,GAA7B,sCACI,CA7CN","names":["_createElementVNode","style","_createElementBlock","$data","_ctx","_createBlock","_component_Alert","key","_hoisted_3","type","placeholder","$event","_toDisplayString","_hoisted_11","required","onClick","$options","_hoisted_13"],"sourceRoot":"","sources":["/home/bignon/Documents/2MS/projet-formation/2ms/src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"register\">\n    <Alert v-if=\"show == tur\" />\n    <div class=\"register-form\">\n      <div>\n        <h1 style=\"color: #5b3cc4\">Inscription</h1>\n      </div>\n      <div class=\"username-div\">\n        <input type=\"text\" placeholder=\"Nom complet\" v-model=\"name\" />\n        <div class=\"errors\" v-if=\"errors_name !== null\">\n          {{ errors_name }}\n        </div>\n      </div>\n      <div class=\"email-div\">\n        <input type=\"email\" placeholder=\"Adress Email\" v-model=\"email\" />\n        <div class=\"errors\" v-if=\"errors_email !== null\">\n          {{ errors_email }}\n        </div>\n      </div>\n      <div class=\"password-div\">\n        <input type=\"password\" placeholder=\"Mot de passe\" v-model=\"password\" />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <div class=\"password-conf-div\">\n        <label for=\"name\"></label>\n        <input\n          type=\"password\"\n          placeholder=\"Confirmation de mot de passe\"\n          required\n          v-model=\"password_confirmation\"\n        />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <button class=\"action\" @click=\"register\">S'inscrire</button>\n      <span style=\"font-size: 12px\"\n        >J'ai deja un compte\n        <span style=\"color: green; font-size: 12px; cursor: pointer\"\n          >Se connecter</span\n        ></span\n      >\n    </div>\n    <Alert v-if=\"show == true\" />\n  </div>\n</template>\n\n<script>\nimport Alert from \"@/components/Alert.vue\";\nexport default {\n  components: {\n    Alert,\n  },\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      errors_name: null,\n      errors_email: null,\n      errors_password: null,\n      show: false,\n    };\n  },\n  methods: {\n    register() {\n      const url = \"https://les2ms-api.herokuapp.com/api/register\";\n      let new_user = {\n        name: this.name,\n        email: this.email,\n        password: this.password,\n        password_confirmation: this.password_confirmation,\n      };\n      let requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(new_user),\n      };\n      fetch(url, requestOptions)\n        .then((response) => {\n          return response.json();\n        })\n        .then((result) => {\n          if (result.errors) {\n            if (result.errors.name) {\n              this.errors_name = result.errors.name[0];\n            }\n            if (result.errors.email) {\n              this.errors_email = result.errors.email[0];\n            }\n            if (result.errors.password) {\n              this.errors_password = result.errors.password[0];\n            }\n          }\n          if (result.token) {\n            this.show = !this.show;\n            setTimeout(() => {\n              this.$router.push(\"/login\");\n            }, 5000);\n          }\n          console.log(result);\n        });\n      this.name = \"\";\n      this.email = \"\";\n      this.password = \"\";\n      this.password_confirmation = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n#success {\n}\n.register {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 4em;\n}\n.register-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2em;\n  min-width: 40%;\n  padding: 25px 10px;\n  box-shadow: -5px 0px 5px -5px #5b3cc4;\n  border-radius: 25px;\n}\n.username-div {\n  width: 100%;\n}\n.username-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #5b3cc4;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #5b3cc4;\n}\n.email-div {\n  width: 100%;\n}\n.email-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #5b3cc4;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #5b3cc4;\n}\n.password-div {\n  width: 100%;\n}\n.password-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #5b3cc4;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #5b3cc4;\n}\n.password-conf-div {\n  width: 100%;\n}\n.password-conf-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #5b3cc4;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #5b3cc4;\n}\n.action {\n  border: none;\n  outline: none;\n  background-color: #5b3cc4;\n  color: white;\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  line-height: 0;\n  font-size: 16px;\n  cursor: pointer;\n}\n@media screen and (max-width: 912px) {\n  .register-form {\n    width: 70%;\n  }\n}\n@media screen and (max-width: 768px) {\n  .register-form {\n    width: 80%;\n  }\n}\n.errors {\n  color: red;\n  text-align: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}