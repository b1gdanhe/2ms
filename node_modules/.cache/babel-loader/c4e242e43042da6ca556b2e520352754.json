{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errors_email: null,\n      errors_password: null\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      var url = \"http://localhost:8000/api/login\";\n      var login_credentials = {\n        email: this.email,\n        password: this.password\n      };\n      var requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(login_credentials)\n      };\n      fetch(url, requestOptions).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        if (result.errors) {\n          if (result.errors.email) {\n            _this.errors_email = result.errors.email[0];\n          }\n\n          if (result.errors.password) {\n            _this.errors_password = result.errors.password[0];\n          }\n        }\n\n        if (result.token) {\n          console.log(result);\n\n          _this.$store.commit(\"getUserInfos\", result);\n\n          _this.$router.push(\"/\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;AA8BA,eAAe;AACbA,MADa,kBACN;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,cAAQ,EAAE,EAFL;AAGLC,kBAAY,EAAE,IAHT;AAILC,qBAAe,EAAE;AAJZ,KAAP;AAMD,GARY;AASbC,SAAO,EAAE;AACPC,SADO,mBACC;AAAA;;AACN,UAAMC,GAAE,GAAI,iCAAZ;AAEA,UAAIC,iBAAgB,GAAI;AACtBP,aAAK,EAAE,KAAKA,KADU;AAEtBC,gBAAQ,EAAE,KAAKA;AAFO,OAAxB;AAIA,UAAIO,cAAa,GAAI;AACnBC,cAAM,EAAE,MADW;AAEnBC,eAAO,EAAE;AACPC,gBAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFU;AAMnBC,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,iBAAf;AANa,OAArB;AAQAQ,WAAK,CAACT,GAAD,EAAME,cAAN,CAAL,CACGQ,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAHH,EAIGF,IAJH,CAIQ,UAACG,MAAD,EAAY;AAChB,YAAIA,MAAM,CAACC,MAAX,EAAmB;AACjB,cAAID,MAAM,CAACC,MAAP,CAAcpB,KAAlB,EAAyB;AACvB,iBAAI,CAACE,YAAL,GAAoBiB,MAAM,CAACC,MAAP,CAAcpB,KAAd,CAAoB,CAApB,CAApB;AACF;;AACA,cAAImB,MAAM,CAACC,MAAP,CAAcnB,QAAlB,EAA4B;AAC1B,iBAAI,CAACE,eAAL,GAAuBgB,MAAM,CAACC,MAAP,CAAcnB,QAAd,CAAuB,CAAvB,CAAvB;AACF;AACF;;AACA,YAAIkB,MAAM,CAACE,KAAX,EAAkB;AAChBC,iBAAO,CAACC,GAAR,CAAYJ,MAAZ;;AACA,eAAI,CAACK,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmCN,MAAnC;;AACA,eAAI,CAACO,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACF;AACD,OAlBH;AAmBD;AAnCM;AATI,CAAf","names":["data","email","password","errors_email","errors_password","methods","login","url","login_credentials","requestOptions","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","result","errors","token","console","log","$store","commit","$router","push"],"sourceRoot":"","sources":["/home/bignon/Documents/2MS/projet-formation/2ms/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"register\">\n    <div class=\"register-form\">\n      <div>\n        <h1 style=\"color: #1c2851\">Connexion</h1>\n      </div>\n      <div class=\"email-div\">\n        <input type=\"email\" placeholder=\"Adress Email\" v-model=\"email\" />\n        <div class=\"errors\" v-if=\"errors_email !== null\">\n          {{ errors_email }}\n        </div>\n      </div>\n      <div class=\"password-div\">\n        <input type=\"password\" placeholder=\"Mot de passe\" v-model=\"password\" />\n        <div class=\"errors\" v-if=\"errors_password !== null\">\n          {{ errors_password }}\n        </div>\n      </div>\n      <button class=\"action\" @click=\"login\">Se connecter</button>\n      <span style=\"font-size: 12px\"\n        >Je n'ai pas encore de compte\n        <span style=\"color: green; font-size: 12px; cursor: pointer\"\n          >S'inscrire</span\n        ></span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errors_email: null,\n      errors_password: null,\n    };\n  },\n  methods: {\n    login() {\n      const url = \"http://localhost:8000/api/login\";\n\n      let login_credentials = {\n        email: this.email,\n        password: this.password,\n      };\n      let requestOptions = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(login_credentials),\n      };\n      fetch(url, requestOptions)\n        .then((response) => {\n          return response.json();\n        })\n        .then((result) => {\n          if (result.errors) {\n            if (result.errors.email) {\n              this.errors_email = result.errors.email[0];\n            }\n            if (result.errors.password) {\n              this.errors_password = result.errors.password[0];\n            }\n          }\n          if (result.token) {\n            console.log(result);\n            this.$store.commit(\"getUserInfos\", result);\n            this.$router.push(\"/\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register {\n  margin-top: 4em;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.register-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2em;\n  min-width: 40%;\n  padding: 25px 10px;\n  box-shadow: -5px 0px 5px -5px #1c2851;\n  border-radius: 25px;\n}\n.username-div {\n  width: 100%;\n}\n.username-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.email-div {\n  width: 100%;\n}\n.email-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-div {\n  width: 100%;\n}\n.password-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.password-conf-div {\n  width: 100%;\n}\n.password-conf-div input {\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  padding: 0 1.5em;\n  font-size: 16px;\n  border-left: none;\n  border-right: 1px solid #1c2851;\n  border-top: none;\n  border-bottom: none;\n  outline: none;\n  box-shadow: 0px 5px 5px -5px #1c2851;\n}\n.action {\n  border: none;\n  outline: none;\n  background-color: #1c2851;\n  color: white;\n  width: 100%;\n  min-height: 3em;\n  border-radius: 25px;\n  line-height: 0;\n  font-size: 16px;\n  cursor: pointer;\n}\n@media screen and (max-width: 912px) {\n  .register-form {\n    width: 70%;\n  }\n}\n@media screen and (max-width: 768px) {\n  .register-form {\n    width: 80%;\n  }\n}\n.errors {\n  color: red;\n  text-align: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}